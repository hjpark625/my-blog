<div class="container mx-auto p-4">
  <div class="mb-6 flex items-center justify-between">
    <h1 class="text-3xl font-bold">My Blog</h1>
    <a
      routerLink="/write"
      class="rounded bg-blue-600 px-4 py-2 font-bold text-white transition-colors hover:bg-blue-700"
    >
      글쓰기
    </a>
  </div>

  <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
    @for (post of posts(); track post.id) {
      <div
        class="rounded-lg border border-gray-100 bg-white p-6 shadow-md transition-shadow hover:shadow-lg"
      >
        <h2 class="mb-2 text-xl font-bold">
          <a [routerLink]="['/blog', post.id]" class="transition-colors hover:text-blue-600">
            {{ post.title }}
          </a>
        </h2>
        <p class="mb-4 line-clamp-3 text-gray-600">
          {{ post.excerpt || post.content.substring(0, 100) }}
        </p>
        <div class="mt-auto flex items-center justify-between text-sm text-gray-500">
          <span>{{ post.createdAt | date: 'mediumDate' }}</span>
          <div class="flex gap-2">
            @for (tag of post.tags; track $index) {
              <span class="rounded bg-gray-100 px-2 py-1 text-xs font-medium text-gray-600">{{
                tag
              }}</span>
            }
          </div>
        </div>
      </div>
    } @empty {
      <div class="col-span-full py-10 text-center text-gray-500">
        게시글이 없습니다. 첫 글을 작성해보세요!
      </div>
    }
  </div>
</div>
